<!DOCTYPE html>
<html>	
<script>

    window.onload = function(){
    
        const backJson = '{\"datas\":[{\"districts\":[{\"zip\":\"100\",\"name\":\"中正區\"},{\"zip\":\"103\",\"name\":\"大同區\"},{\"zip\":\"104\",\"name\":\"中山區\"},{\"zip\":\"105\",\"name\":\"松山區\"},{\"zip\":\"106\",\"name\":\"大安區\"},{\"zip\":\"108\",\"name\":\"萬華區\"},{\"zip\":\"110\",\"name\":\"信義區\"},{\"zip\":\"111\",\"name\":\"士林區\"},{\"zip\":\"112\",\"name\":\"北投區\"},{\"zip\":\"114\",\"name\":\"內湖區\"},{\"zip\":\"115\",\"name\":\"南港區\"},{\"zip\":\"116\",\"name\":\"文山區\"}],\"name\":\"臺北市\"},{\"districts\":[{\"zip\":\"200\",\"name\":\"仁愛區\"},{\"zip\":\"201\",\"name\":\"信義區\"},{\"zip\":\"202\",\"name\":\"中正區\"},{\"zip\":\"203\",\"name\":\"中山區\"},{\"zip\":\"204\",\"name\":\"安樂區\"},{\"zip\":\"205\",\"name\":\"暖暖區\"},{\"zip\":\"206\",\"name\":\"七堵區\"}],\"name\":\"基隆市\"}]}';


        /*backJson = {
            datas:[
                {            
                    districts: [{zip:100, name:'中正區'}]
                    ,name: '台北市'
                }
            ]
        }
            var allCity = backJson.datas; //[{},{}]
            var cityInfo = allCity[i]; //{}
                var cityNm = cityInfo.name;  //String  
                var dists = cityInfo.districts; //[{},{}]
                    var distInfo = dists[j]; //{}
                    var distNo = distInfo.zip
                    var distNm = distInfo.name 
        */        

        const createOption = function(show, value){
            const opt = document.createElement('option');
            opt.value = value;
            opt.innerHTML = show;
            return opt;
        };

        const citySel = document.getElementById('city');
        const distSel = document.getElementById('dist');

        const allCity = JSON.parse(backJson).datas;
        for(let cityInfo of allCity){
            const cityNm = cityInfo.name;
            citySel.appendChild(createOption(cityNm, cityNm));

            const dists = cityInfo.districts;
            for(let distInfo of dists){
                distSel.appendChild(createOption(distInfo.name, distInfo.zip));
            }
        }
    };
	
</script>
<body>
	縣市：<select id="city"><option value="">請選擇</option></select><br>
    行政區：<select id="dist"><option value="">請選擇</option></select>
</body>
</html>